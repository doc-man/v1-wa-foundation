<!--<div data-ng-controller="pluginsMasterCtrl">-->
<div>
    <div>
        <h3>Plugins List&nbsp;
            <button class="btn btn-default themeLabel" ng-click="addplugin()" type="button" title="Add Plugin">
                <i class="glyphicon glyphicon-plus nopadding"></i>
            </button>
        </h3>
    </div>
    <div data-ng-if="msgObj.msg.open">
        <div class="pannel-message-board alert-success mTop20" data-ng-class="msgObj.msg.mclass">
            <span>{{ msgObj.msg.text }}</span>
        </div>
    </div> 
    <div class="clearfix"></div>
    <div class="textarea-initial" data-ng-if="userRoleDataSet.length==0">{{masterData.messageVal}}</div>
    <table class="table table-striped" st-table="pluginDataSet" st-safe-src="masterData.pluginList" >       
        <thead>
            <tr>
                <th st-sort="name">Plugin name</th>
                <th class="text-center">Section</th>
                <th class="text-center">Enabled</th>
                <th data-ng-repeat="role in all_roles" class="text-center">
                    {{role.displayName}}
                    <div class="col-md-12">
                         <div class="col-md-6">View</div>
                        <div class="col-md-6">Change</div>
                    </div>
                </th>
                <th>Action</th>
            </tr>
        </thead>
        <tbody>
            <tr ng-repeat="row in pluginDataSet">
                <td>
                    <a href="javascript:void(0)" editable-text="row.title" buttons="no" blur="submit" data-ng-model="row.title" onaftersave="fnUpdatePlugin(row)" data-ng-keypress="fnUpdatePlugin(row)">{{row.title || 'empty'}}</a>
                </td>
                <td class="text-center">
                    <a href="javascript:void(0)" editable-select="row.sectionID" buttons="no" blur="submit" e-name="eventStatusID"  e-ng-options="m.id as m.name for m in all_sections" onaftersave="fnUpdatePlugin(row)" data-ng-keypress="fnUpdatePlugin(row)" e-required>{{showSectionName(row.sectionID)}}</a>
                </td>
                <td class="text-center">
                    <input type="checkbox" data-ng-model="row.enabled" data-ng-true-value="true" data-ng-false-value="false" data-ng-change="enableDisable(row)">
                </td>
                <td class="text-center" data-ng-repeat="perm in row.permission">
                    <div class="col-md-12">
                        <div class="col-md-6">
                            <input type="checkbox" data-ng-model="perm.view" data-ng-true-value="1" data-ng-false-value="0" data-ng-checked="row.enabled && perm.view==1" data-ng-disabled="!row.enabled" data-ng-change="updatePerm(row)">
                        </div>
                        <div class="col-md-6">
                            <input type="checkbox" data-ng-model="perm.change" data-ng-true-value="1" data-ng-false-value="0" data-ng-checked="row.enabled && perm.change==1" data-ng-disabled="!row.enabled" data-ng-change="updatePerm(row)">
                        </div>
                    </div>
                </td>
                <td class="text-center">
                    <button class="btn btn-danger btn-xs" data-ng-click="deletePlugin(row)">Delete</button>
                </td>
            </tr>
        </tbody>
    </table>
</div> 
